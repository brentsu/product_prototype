CREATE TABLE `stockout_customs_declare_document` (
  `declare_document_id` int NOT NULL AUTO_INCREMENT,
  `location` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '地区',
  `declare_document_no` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '报关单号',
  `declare_document_type` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '报关类型',
  `status` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '状态',
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否已删除 1-是，0-否',
  `logistics_company` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '物流公司',
  `forwarder_company` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '货代公司',
  `company_id` int NOT NULL COMMENT '公司',
  `customer` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '客户',
  `box_num` int unsigned DEFAULT NULL COMMENT '箱数',
  `order_num` int unsigned DEFAULT NULL COMMENT '订单数',
  `sku_num` int unsigned DEFAULT NULL COMMENT '件数',
  `volume` decimal(18,3) unsigned NOT NULL DEFAULT '0.000' COMMENT '体积',
  `freight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '运费',
  `estimated_freight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '预估运费',
  `exchange_rate` decimal(18,4) NOT NULL DEFAULT '0.0000' COMMENT '汇率',
  `signing_date` timestamp NULL DEFAULT NULL COMMENT '签约日期',
  `shipping_date` timestamp NULL DEFAULT NULL COMMENT '装运日期',
  `export_date` timestamp NULL DEFAULT NULL COMMENT '出口日期',
  `total_plan_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '计划总重量',
  `total_fob_price` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT 'FOB总价格',
  `total_plan_box_num` int NOT NULL DEFAULT '0' COMMENT '总计划箱数',
  `weight` decimal(18,3) DEFAULT '0.000' COMMENT '重量',
  `net_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '净重',
  `amazon_space_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '亚马逊仓库名称',
  `port` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '港口',
  `destination` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '目的地',
  `country_code` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '目的国家代码',
  `type_of_shipping` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '运输方式',
  `supervision_method` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '监管方式',
  `customs` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '出境关别',
  `documentation_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '制单日期',
  `customs_declare_code` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '海关报关单号',
  `currency` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'USD' COMMENT '币种',
  `auditor` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '审核人',
  `audit_time` timestamp NULL DEFAULT NULL COMMENT '审核时间',
  `is_audit` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否审核',
  `remark` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',
  `agent_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '报关行-- 口岸数据',
  `ie_port` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '出口口岸-- 口岸数据',
  `ie_date` timestamp NULL DEFAULT NULL COMMENT '出口日期 -- 口岸数据',
  `gross_wet` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '毛重 -- 口岸数据',
  `store_ids` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '店铺id列表',
  `store_names` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '店铺名称列表',
  `trans_mode` tinyint NOT NULL DEFAULT '0' COMMENT '价格条款  1-CIF 2-C&F 3-FOB 4-C&I 5-EXW',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建者',
  `update_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `update_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新者',
  `version` bigint NOT NULL DEFAULT '0' COMMENT '版本号',
  PRIMARY KEY (`declare_document_id`),
  KEY `idx_order_no` (`declare_document_no`),
  KEY `idx_location` (`location`),
  KEY `idx_status` (`status`),
  KEY `idx_declare_document_type` (`declare_document_type`),
  KEY `idx_amazon_space_name` (`amazon_space_name`),
  KEY `idx_logistics_company` (`logistics_company`),
  KEY `idx_company_id` (`company_id`),
  KEY `idx_is_deleted_STATUS` (`is_deleted`,`status`),
  KEY `idx_is_audit` (`is_audit`),
  KEY `idx_is_deleted_create_date` (`is_deleted`,`create_date`)
) ENGINE=InnoDB AUTO_INCREMENT=13289 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='报关单据列表'


CREATE TABLE `stockout_customs_declare_document_item` (
  `declare_document_item_id` int NOT NULL AUTO_INCREMENT,
  `declare_document_id` int NOT NULL,
  `declare_order_id` int NOT NULL,
  `fob_price` decimal(18,4) unsigned NOT NULL DEFAULT '0.0000' COMMENT 'fob单价',
  `user_price` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '网上价格',
  `net_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '净重',
  `rough_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '毛重',
  `apportion_freight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '分摊运费',
  `box_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '箱重（实际总重）',
  `volume` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '体积',
  `weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '毛重',
  `customs_declare_unit_cn` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关单位（中文）',
  `customs_declare_unit` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关单位',
  `hs_code` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '海关编码',
  `customs_declare_en` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关名称（英文）',
  `customs_declare_cn` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关名称（中文）',
  `spin_type` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '织造方式',
  `fabric_type` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '成分',
  `fabric_type_en` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '成分英文',
  `sku` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '商品规格',
  `seller_sku` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '客户sku',
  `declare_element` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '申报要素',
  `polymerized_declare_element` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '聚合的申报要素(用于修改)',
  `shipment_id` int NOT NULL,
  `category_customs_declare_id` int NOT NULL COMMENT '分类报关id',
  `location` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '地区',
  `order_no` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '订单号',
  `actual_box_qty` int DEFAULT NULL COMMENT '实际箱数',
  `qty` int NOT NULL COMMENT '数量',
  `product_id` int NOT NULL DEFAULT '0' COMMENT '商品Id',
  `declare_document_aggregated_item_id` int DEFAULT NULL,
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `create_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建者',
  `update_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `update_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新者',
  `version` bigint NOT NULL DEFAULT '0' COMMENT '版本号',
  PRIMARY KEY (`declare_document_item_id`),
  KEY `idx_order_no` (`order_no`),
  KEY `idx_location` (`location`),
  KEY `idx_declare_order_id` (`declare_order_id`),
  KEY `idx_declare_document_id` (`declare_document_id`),
  KEY `idx_product_id` (`product_id`),
  KEY `idx_seller_sku` (`seller_sku`),
  KEY `idx_declare_document_aggregated_item_id` (`declare_document_aggregated_item_id`)
) ENGINE=InnoDB AUTO_INCREMENT=10248927 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='报关单据明细'


CREATE TABLE `stockout_customs_declare_document_aggregated_item` (
  `declare_document_aggregated_item_id` int NOT NULL AUTO_INCREMENT,
  `location` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '地区',
  `declare_document_no` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关单号',
  `declare_document_id` int DEFAULT NULL COMMENT '报关单据id',
  `fob_price` decimal(18,4) unsigned NOT NULL DEFAULT '0.0000' COMMENT 'fob单价',
  `net_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '净重',
  `rough_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '毛重',
  `apportion_freight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '分摊运费',
  `box_weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '箱重（实际总重）',
  `volume` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '体积',
  `weight` decimal(18,3) NOT NULL DEFAULT '0.000' COMMENT '毛重',
  `customs_declare_unit_cn` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关单位（中文）',
  `customs_declare_unit` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关单位',
  `hs_code` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '海关编码',
  `customs_declare_en` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关名称（英文）',
  `customs_declare_cn` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '报关名称（中文）',
  `spin_type` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '织造方式',
  `fabric_type` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '成分',
  `fabric_type_en` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '成分（英文）',
  `polymerized_declare_element` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '聚合的申报要素(用于修改)',
  `qty` int NOT NULL DEFAULT '0' COMMENT '数量',
  `category_customs_declare_id` int NOT NULL DEFAULT '0' COMMENT '分类报关id',
  `actual_box_qty` int DEFAULT NULL COMMENT '实际箱数',
  `g_no` int NOT NULL DEFAULT '0' COMMENT '项号',
  `update_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新者',
  `update_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `create_by` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建者',
  `create_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `version` bigint NOT NULL DEFAULT '0' COMMENT '版本号',
  PRIMARY KEY (`declare_document_aggregated_item_id`),
  KEY `idx_hs_code` (`hs_code`),
  KEY `idx_category_customs_declare_id` (`category_customs_declare_id`),
  KEY `idx_create_date` (`create_date`),
  KEY `idx_update_date` (`update_date`),
  KEY `idx_g_no` (`g_no`),
  KEY `idx_declare_document_no` (`declare_document_no`),
  KEY `idx_declare_document_id` (`declare_document_id`)
) ENGINE=InnoDB AUTO_INCREMENT=1054805 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='报关单据明细 - 聚合'



